# ğŸš—ğŸ’¢ ä½ æŒ¡ä½æˆ‘äº†ï¼ (You Blocked Me!)

ä¸€ä¸ªåŸºäº **Effect-ts** æ„å»ºï¼Œèƒ½å¤ŸåŒæ—¶è¿è¡Œåœ¨ **é˜¿é‡Œäº‘ ESA** å’Œ **Cloudflare** ç­‰ Serverless ç¯å¢ƒä¸‹çš„ç°ä»£åŒ–æŒªè½¦é€šçŸ¥ç³»ç»Ÿã€‚ ğŸš€

âœ¨ **é¢„è§ˆåœ°å€ï¼š** [rolshen.xin/notify](https://rolshen.xin/notify)

[![Deploy to Cloudflare Workers](https://deploy.workers.cloudflare.com/button)](https://deploy.workers.cloudflare.com/?url=https://github.com/shlroland/you-blocked-me)

> **æ³¨æ„**: éƒ¨ç½²å®Œæˆåï¼Œè¯·åŠ¡å¿…å‰å¾€ **Cloudflare Dashboard > Workers > Settings > Variables** é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
> * `AMAP_SECURITY_KEY`: ä½ çš„é«˜å¾·åœ°å›¾ API Key
> * `SERVER3_SEND_KEY`: Serveré…±/é€šçŸ¥æœåŠ¡ Key
> * `YOU_BLOCKED_ME`: è¯·åˆ›å»ºä¸€ä¸ª KV å‘½åç©ºé—´å¹¶å°†å…¶å˜é‡åç»‘å®šä¸º `YOU_BLOCKED_ME`

---

## ğŸŒŸ æ ¸å¿ƒäº®ç‚¹

### 1. âš¡ï¸ Effect-ts é©±åŠ¨
æœ¬é¡¹ç›®æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å®Œå…¨é‡‡ç”¨äº† [Effect-ts](https://effect.website/) æ„å»ºã€‚åˆ©ç”¨å…¶å¼ºå¤§çš„**ç»“æ„åŒ–å¹¶å‘**ã€**ä¾èµ–æ³¨å…¥**å’Œ**é”™è¯¯å¤„ç†**æœºåˆ¶ï¼Œç¡®ä¿äº†ä¸šåŠ¡é€»è¾‘çš„å¥å£®æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚æˆ‘ä»¬ä¸ä»…ä»…æ˜¯ç”¨ Effect å†™ä»£ç ï¼Œè€Œæ˜¯æ‹¥æŠ±äº†ä¸€ç§æ„å»ºé«˜å¯é è½¯ä»¶çš„å…¨æ–°èŒƒå¼ã€‚

### 2. â˜ï¸ å¤šäº‘ Serverless æ¶æ„
è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨å•ä¸€å¹³å°çš„åº”ç”¨ã€‚æˆ‘ä»¬è®¾è®¡äº†çµæ´»çš„é€‚é…å™¨æ¨¡å¼ï¼ˆAdaptor Patternï¼‰ï¼Œå®ç°äº†ä¸€å¥—ä¸šåŠ¡ä»£ç åŒæ—¶åœ¨å¤šä¸ªè¾¹ç¼˜è®¡ç®—å¹³å°è¿è¡Œï¼š
*   **Aliyun ESA (é˜¿é‡Œäº‘è¾¹ç¼˜å®‰å…¨åŠ é€Ÿ)**
*   **Cloudflare Workers**

ç³»ç»Ÿæ¶æ„å·²é¢„ç•™æ‰©å±•æ¥å£ï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤š Serverless è¿è¡Œæ—¶ç¯å¢ƒã€‚

### 3. ğŸ”¥ æè‡´çš„ç°ä»£æŠ€æœ¯æ ˆ
*   **Effect**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸å‰¯ä½œç”¨ç®¡ç†
*   **Astro 5.0**: é«˜æ€§èƒ½çš„ç°ä»£ Web æ¡†æ¶
*   **React 19 + Tailwind CSS 4**: å¿«é€Ÿã€ç¾è§‚çš„ UI æ„å»º


---

## ğŸ“– åŠŸèƒ½ç‰¹æ€§

- âš¡ï¸ **å³æ—¶é€šçŸ¥ï¼š** ç®€å•çš„è¡¨å•å³å¯å‘é€æŒªè½¦è¯·æ±‚ï¼Œè½¦ä¸»ç§’æ”¶é€šçŸ¥ã€‚
- ğŸ“ **ç²¾å‡†å®šä½ï¼š** é›†æˆé«˜å¾·åœ°å›¾ APIï¼Œè‡ªåŠ¨è·å–å¹¶å‘é€å½“å‰ä½ç½®ï¼Œæ–¹ä¾¿è½¦ä¸»æ‰¾è½¦ã€‚
- ğŸ›¡ï¸ **éšç§ä¿æŠ¤ï¼š** æ— éœ€å…¬å¼€ç”µè¯å·ç ï¼Œé€šè¿‡åŠ å¯†é€šé“è¿›è¡Œé—´æ¥æ²Ÿé€šã€‚
- ğŸ“± **æè‡´ä½“éªŒï¼š** ä¸“ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„ UI ä½“éªŒï¼Œå•æ‰‹æ“ä½œæ— å‹åŠ›ã€‚
- ğŸ”„ **çŠ¶æ€è¿½è¸ªï¼š** å®æ—¶è½®è¯¢å¤„ç†çŠ¶æ€ï¼Œç¡®è®¤è½¦ä¸»æ˜¯å¦å·²æ”¶åˆ°è¯·æ±‚å¹¶å‡ºå‘ã€‚

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/shlroland/you-blocked-me.git
cd you-blocked-me
```

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 3. ç¯å¢ƒé…ç½®

å¤åˆ¶ `.env.example` å¹¶æ›´åä¸º `.env`ï¼Œå¡«å…¥å¿…è¦çš„ä¿¡æ¯ï¼š

```bash
AMAP_SECURITY_KEY=xxx
SERVER3_SEND_KEY=xxx
> * `YOU_BLOCKED_ME`: è¯·åˆ›å»ºä¸€ä¸ª KV å‘½åç©ºé—´å¹¶å°†å…¶å˜é‡åç»‘å®šä¸º `YOU_BLOCKED_ME`
```

### 4. å¼€å‘æŒ‡å—

æˆ‘ä»¬æä¾›äº†é’ˆå¯¹ä¸è¿è¡Œæ—¶çš„å¼€å‘å‘½ä»¤ï¼š

*   **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡ (Astro):**
    ```bash
    pnpm dev
    ```

*   **å¯åŠ¨ Cloudflare Workers è°ƒè¯•ç¯å¢ƒ:**
    ```bash
    pnpm worker:dev:wrangler
    ```

*   **å¯åŠ¨ Aliyun ESA è°ƒè¯•ç¯å¢ƒ:**
    ```bash
    pnpm worker:dev:esa
    ```

### 5. æ„å»ºéƒ¨ç½²

æ ¹æ®ç›®æ ‡å¹³å°é€‰æ‹©æ„å»ºå‘½ä»¤ï¼š

*   **æ„å»º Aliyun ESA ç‰ˆæœ¬:**
    ```bash
    pnpm build:esa
    ```

*   **æ„å»º Cloudflare ç‰ˆæœ¬:**
    ```bash
    pnpm build:cf
    ```

---

## ğŸ¤ è´¡çŒ®ä¸æ„Ÿè°¢

ğŸ’¡ **çµæ„Ÿæ¥æºï¼š** æ„Ÿè°¢ [lesnolie/movecar](https://github.com/lesnolie/movecar) æä¾›çš„ä¼˜ç§€åˆ›æ„ï¼â¤ï¸

æ¬¢è¿æäº¤ Issue æˆ– Pull Requestï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ æœ‰å…´è¶£é€šè¿‡ Effect-ts é€‚é…æ›´å¤šçš„ Serverless å¹³å°ï¼

---

ğŸ  **License:** MIT
